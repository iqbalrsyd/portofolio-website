import{c as S,a as y,f as I,r as te}from"./DfRmdnbm.js";import{i as N}from"./XqzF67Wi.js";import{am as ae,an as se,ao as Q,p as z,y as k,h as $,z as R,f as C,a as p,c as V,r as X,s as j,g as v,A as B,B as q,i as U}from"./BWBFXw1E.js";import{o as ne,l as le,n as re,m as J,p as K,e as P,b as W,i as Y,d as L}from"./9KBNKA35.js";import{l as m,p as u,i as D,b as F,d as oe,s as Z,a as ee,c as G}from"./7EHY30Mx.js";import{o as ie}from"./DugtQEGY.js";import{t as de,c as ce,r as ue,g as fe}from"./DiAdYFq1.js";const ge={src:"",delayMs:0,onLoadingStatusChange:void 0},ve=s=>{const e={...ge,...s},n=de(ne(e,"loadingStatus","onLoadingStatusChange")),{src:f,delayMs:a}=n,d=e.loadingStatus??ae("loading"),i=ie(d,e==null?void 0:e.onLoadingStatusChange);le([f,a],([r,_])=>{if(re){const h=new Image;h.src=r,h.onload=()=>{if(a!==void 0){const A=window.setTimeout(()=>{i.set("loaded")},_);return()=>window.clearTimeout(A)}else i.set("loaded")},h.onerror=()=>{i.set("error")}}});const l=J("avatar-image",{stores:[f,i],returned:([r,_])=>{const h=K({display:_==="loaded"?"block":"none"});return{src:r,style:h}}}),c=J("avatar-fallback",{stores:[i],returned:([r])=>({style:r==="loaded"?K({display:"none"}):void 0,hidden:r==="loaded"?!0:void 0})});return{elements:{image:l,fallback:c},states:{loadingStatus:i},options:n}};function H(){return{NAME:"avatar",PARTS:["root","image","fallback"]}}function me(s){const{NAME:e,PARTS:n}=H(),f=ce(e,n),a={...ve(ue(s)),getAttrs:f};return se(e,a),{...a,updateOption:fe(a.options)}}function _e(s=""){const{NAME:e}=H(),n=Q(e);return s?n.options.src.set(s):n.options.src.set(""),n}function he(){const{NAME:s}=H();return Q(s)}var be=I("<div><!></div>");function ye(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["delayMs","loadingStatus","onLoadingStatusChange","asChild","el"]);z(e,!1);let a=u(e,"delayMs",24,()=>{}),d=u(e,"loadingStatus",28,()=>{}),i=u(e,"onLoadingStatusChange",24,()=>{}),l=u(e,"asChild",8,!1),c=u(e,"el",28,()=>{});const{states:{loadingStatus:r},updateOption:_,getAttrs:h}=me({src:"",delayMs:a(),onLoadingStatusChange:({next:o})=>{var t;return d(o),(t=i())==null||t(o),o}}),A=h("root");k(()=>$(d()),()=>{d()!==void 0&&r.set(d())}),k(()=>$(a()),()=>{_("delayMs",a())}),R(),N();var M=S(),w=C(M);{var E=o=>{var t=S(),g=C(t);P(g,e,"default",{get attrs(){return A}}),y(o,t)},T=o=>{var t=be();W(t,()=>({...f,...A}));var g=V(t);P(g,e,"default",{get attrs(){return A}}),X(t),F(t,b=>c(b),()=>c()),y(o,t)};D(w,o=>{l()?o(E):o(T,!1)})}y(s,M),p()}var Ae=I("<img/>");function $e(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["src","alt","asChild","el"]);z(e,!1);const a=()=>Z(v(l),"$image",d),[d,i]=ee(),l=B(),c=B();let r=u(e,"src",24,()=>{}),_=u(e,"alt",24,()=>{}),h=u(e,"asChild",8,!1),A=u(e,"el",28,()=>{});const M={"data-bits-avatar-image":""};k(()=>$(r()),()=>{oe(j(l,_e(r()).elements.image),"$image",d)}),k(()=>a(),()=>{j(c,a())}),k(()=>v(c),()=>{Object.assign(v(c),M)}),R(),N();var w=S(),E=C(w);{var T=t=>{var g=S(),b=C(g);P(b,e,"default",{get builder(){return v(c)}}),y(t,g)},o=t=>{var g=Ae();W(g,()=>({...v(c),alt:_(),...f})),F(g,b=>A(b),()=>A()),Y(g,b=>{var x,O;return(O=(x=v(c)).action)==null?void 0:O.call(x,b)}),te(g),y(t,g)};D(E,t=>{h()?t(T):t(o,!1)})}y(s,w),p(),i()}var Se=I("<span><!></span>");function Ce(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["asChild","el"]);z(e,!1);const a=()=>Z(_,"$fallback",d),[d,i]=ee(),l=B();let c=u(e,"asChild",8,!1),r=u(e,"el",28,()=>{});const{elements:{fallback:_},getAttrs:h}=he(),A=h("fallback");k(()=>a(),()=>{j(l,a())}),k(()=>v(l),()=>{Object.assign(v(l),A)}),R(),N();var M=S(),w=C(M);{var E=o=>{var t=S(),g=C(t);P(g,e,"default",{get builder(){return v(l)}}),y(o,t)},T=o=>{var t=Se();W(t,()=>({...v(l),...f}));var g=V(t);P(g,e,"default",{get builder(){return v(l)}}),X(t),F(t,b=>r(b),()=>r()),Y(t,b=>{var x,O;return(O=(x=v(l)).action)==null?void 0:O.call(x,b)}),y(o,t)};D(w,o=>{c()?o(E):o(T,!1)})}y(s,M),p(),i()}function pe(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["class","delayMs"]);z(e,!1);let a=u(e,"class",8,void 0),d=u(e,"delayMs",8,void 0);N();{let i=q(()=>($(L),$(a()),U(()=>L("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a()))));ye(s,G({get delayMs(){return d()},get class(){return v(i)}},()=>f,{children:(l,c)=>{var r=S(),_=C(r);P(_,e,"default",{}),y(l,r)},$$slots:{default:!0}}))}p()}function Ee(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["class","src","alt"]);z(e,!1);let a=u(e,"class",8,void 0),d=u(e,"src",8,void 0),i=u(e,"alt",8,void 0);N();{let l=q(()=>($(L),$(a()),U(()=>L("aspect-square h-full w-full",a()))));$e(s,G({get src(){return d()},get alt(){return i()},get class(){return v(l)}},()=>f))}p()}function Te(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["class"]);z(e,!1);let a=u(e,"class",8,void 0);N();{let d=q(()=>($(L),$(a()),U(()=>L("bg-muted flex h-full w-full items-center justify-center rounded-full",a()))));Ce(s,G({get class(){return v(d)}},()=>f,{children:(i,l)=>{var c=S(),r=C(c);P(r,e,"default",{}),y(i,c)},$$slots:{default:!0}}))}p()}export{pe as A,Te as a,Ee as b};
